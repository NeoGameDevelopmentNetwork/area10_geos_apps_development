KKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKK
  ADC #$21:SUB3A  CPY #$C0        BCS SUB3B        ADC #$40:SUB3B  CPY #$A0        BCS SUB3C        ADC #$20:SUB3C  CPY #$60        BCS SUB3D        SEC        SBC #$20:SUB3D  CPY #$40        BCS SUB3E        ADC #$40:SUB3E  LDY VARA             LDA #$00    ;SID-REGISTER:SUB1G  STA $D400,Y ;LOESCHEN        DEY        BPL SUB1G        CLC        RTS;-------:SUB2   AND #$7F    ;BC NACH ASCII        CMP #$20    ;WANDELN        BCC SUB2B        CMP #$40        BCC SUB2A        CMPK5        LDA #$64    ;HUELLKURVE        STA $D406        LDX #$00    ;TON STARTEN        LDY #$00:SUB1B  INY        BNE SUB1B        STX $D418        INX        CPX #$10        BNE SUB1B        LDX #$40    ;TONLAENGE        STX $02:SUB1C  DE   ;ART DER VORGABE      B $00,$00,$00 ;ANZAHL UND ADRESSE                    ;DES VORGABESTRINGS;-------:LAST               ;SPEICHER FUERB $01,$00,$01,$00   ;OPTIONALE PARAMETERB $FF,$FF,$01,$00   ;(FM,HM,PO,AN,FW,FN,B "EVCV"            ;RF,MM,E        RTS         ;DEAKTIVEN PARAMETER;-------:H8     INC $02     ;FEHLERBYTE ERHOEHEN        JMP CHKCOM  ;UND KOMMA HOLEN;-------;VON BASIC AUS AUFRUFBARE;UNTERPROGRAMME;-------:SUB1   JSR SUB1F:SUB1A  LDA #$9C    ;FREQUENZ LOW        LDX #     ;FARBCODE:EV   B $00,$00     ;NAME ENDVARIABLE:CV   B $00,$00     ;NAME CURSORVAR.;-------:TKEY S $C0         ;ERLAUBTE TASTEN:EKEY S $28         ;ABBRUCH-TASTEN;-------:ZE   B $00         ;ZEILE:SP   B $00         ;SPALTE:LA   B $00           ;ZEILE/SPALTE        JSR PLOT:H6B    JSR GETPOS  ;CURSOR-POS HOLEN        CPY #$28    ;ZEILE > 40 ?        BCC H6C        TYA         ;JA, 40 ABZIEHEN        SEC         ;UM VERLAENGERTE        SBC #$28    ;BILDSCHIRMZEILE        TAY         B $00         ;BASIC/ASSEMBLER:EM   B $00         ;END-STRINGLAENGE:CR   B $0D         ;RETURN-FLAG:VARA B $00         ;ZWISCHENSPEICHER:VARB B $00;-------:EP   S $28         ;EINGABEPUFFER;-------:FW   S $28         ;FARBPUFFER WAEHREND:FN   S K  RTS;-------;SPEICHER FUER PARAMETER;-------:ENDKEY             ;VORGABE FUERB $0D,$8D,$11,$91   ;ABBRUCH-TASTENB $85,$86,$87,$88B $89,$8A,$8B,$00S $1C;-------:EFKEY              ;CODES DER EDITORB $93,$13,$1D,$14   ;TASTENB $9D,$94,$8C,$8D  #$60        BCC SUB2C        ADC #$3F:SUB2A  RTS:SUB2B  ORA #$40        RTS:SUB2C  ORA #$20        RTS;-------:SUB3   STY VARA    ;ASCII NACH BC        TAY         ;WANDELN        SEC        SBC #$A1        CPY #$FF        BCS SUB3A      KX        BNE SUB1C        DEC $02        BEQ SUB1D        LDX #$FF        JMP SUB1C:SUB1D  LDX #$03  ;TON BEENDEN        LDY #$00:SUB1E  INY        BNE SUB1E        STX $D418        DEX        BPL SUB1E:SUB1F  LDY #$18    ;WARNTON AUSGEBEN  V,CV);-------B "INPUT DE LUXE V4.3"B "WRITTEN 1990 BY : M. KANET"B "STAND : 29.09.90 / 13.34"S $66               ;PLATZ FUER SPAETERE                    ;MODIFIKATIONEN;-------        BRK         ;ENDE BEI $1500 !;------- D:VO   B $00      $48    ;FREQUENZ HIGH        LDY #$00    ;PULSWEITE        STA $D400        STX $D401        STY $D402        LDA #$08    ;PULSWEITE        LDX #$41    ;WELLENFORM        LDY #$0A    ;HUELLKURVE        STA $D403        STX $D404        STY $D40  ;LAENGE:TS   B $00         ;ANZAHL TASTEN:ZS   B $00,$00,$00 ;NAME ZIELVARIABLE                    ;ASSEMBLER: ANZAHL                    ;UND ADRESSE DES                    ;STRINGS DER BEI                    ;F8 UEBERGEBEN WIRD:VO   B $00      ;AUSZUSCHLIESSEN:H6C    RTS;-------:H7     INC $02        JSR CHRGOT  ;ZEICHEN HOLEN        BEQ H7A        JSR CHKCOM  ;KOMMA ?        BEQ H7A        CMP #$2C    ;CARRY- UND ZERO-:H7A    RTS         ;FLAG SETZEN:H7B    LDA #$00    ;ROUTINE FUER$28         ;NACH EINGABE;-------:FM   B $00         ;FELD-MODUS:HM   B $00         ;HIDEMODUS:PO   B $00         ;CURSORPOSITION:AN   B $00         ;ANZAHL TASTEN:RF   B $00,$00     ;REVER-SMODUS:MM   B $00         ;MEHRFARB-MODUS:CM   B $00    KS $18:EFADR              ;SPRUNGADRESSENW E1,E2,E3,E4       ;FUER EDITOR-TASTENW E5,E6,E7,D4S $30;-------:K0   B $23         ;HIDECODE:K1   B $64         ;FELDCODE:K2   B $20         ;LEERFELDCODE:K3   B $20:K4   B $00         ;FUELLCODE:BM   
CHIEBEN        DEY        STA EP,Y        TXA        STA ($F7),Y        INY        INY        CPY LA        BNE E4B        DEY        LDA K4      ;AM ENDE DES EF        JSR B7      ;LEERCODE EINFUEGEN        STA ($F7),Y        LDA #$20    ;SS BEWEGEN.        SEC        SBC SP        CMP LA      ;SCHON AM RECHTEN        BNE E3A     ;RAND ?        JMP SUB1    ;JA, WARNTON:E3A    JSR PLOT        INC PO        CLC        RTS;-------:E4     JSR H6B     ;DELETE        CPY SP      ;SCH        BMI H1A        LDA #$00        B $2C:H1A    LDA #$FF    ;NACH FLIESKOMMA        JSR INTFAC  ;WANDELN        JMP LET     ;LET-FUNKTION;-------:H2     CMP #$20    ;TASTE IM        BCC H2A     ;ERLAUBTEN BEREICH        CMP #$80    ;$20-$7F, JMP D4L     ;SONST WIE BASIC;-------;FUNKTIONEN ZU EDITORTASTEN;-------:E1     LDY LA      ;CLR/HOME        DEY         ;EF LOESCHEN:E1A    LDA K4        JSR B7        STA ($F7),Y        LDA #$20        STA EP,Y        DEY        BPL E1A;--JMP E1      ;JA, EF LOESCHEN:E7C    JSR B1D     ;TEXT UEBERGEBEN        JSR B6        CLC        RTS;-------;DIVERSE UNTERPROGRAMME;-------:H1     STA $45     ;WERT EINER        STX $46     ;VARIABLEN ZUWEISEN        JSR PUTVAR  ;VARIABLE SUCHE    JSR H1      ;UND WERT SPEICHERN:D4L    LDA CR      ;RETURN-FLAG        JSR BSOUT   ;AUSGEBEN        SEC         ;PROGRAMM BEENDEN        RTS;-------:D5     LDX #<EP    ;DATEN AN ASSEMBLER-        LDY #>EP    ;PROGRAMM UEBERGEBEN.        STA $R B7      ;FUELLEN        STA ($F7),Y        LDA #$20        STA EP,Y        CLC        RTS;-------:E7     LDX BM      ;F8        BEQ E7A     ;TEXT IN EINGABE-        LDA ZS      ;FELD UEBERGEBEN.        LDX ZS+1        LDY ZS+2        JMP E7     DEY         ;JA, DANN WEITER        BMI D4K:D4J    LDA EP,Y    ;EINGABE IN RE-        STA ($62),Y ;SERVIERTEN BEREICH        DEY         ;KOPIEREN        BPL D4J:D4K    LDA EV      ;NAME DER ABBRUCH-        LDX EV+1    ;VARIABLEN HOLEN      N, WEITER        DEY         ;LETZTES ZEICHEN        LDA K4      ;LOESCHEN        JSR B7        STA ($F7),Y        LDA #$20        STA EP,Y        CLC        RTS:E6A    LDY LA      ;TEXT RECHTS VOM        DEY         ;CURSOR VERSCHIEBEN:E6B   :H3A    RTS;-------:H4     STX VARB    ;ZEICHEN AUF        LDX FM      ;FELD-CODE TESTEN        BEQ H4A        JSR SUB3    ;IN BILDSCIRMCODE        CMP K1      ;UEBEREINSTIMMUNG        BNE H4B        LDA #$20    ;IN SPACE WANDELN:H4B    JSR SUBPACE ANS ENDE DES        STA EP,Y    ;EINGABEPUFFERS        RTS;-------:E5     JSR H6B     ;CURSOR UM EIN        CPY SP      ;ZEICHEN NACH LINKS        BNE E5A     ;AM LINKEN RAND ?        JMP SUB1    ;JA, WARNTON:E5A    DEY        JSR PLOT     ON AM LINKEN        BNE E4A     ;RAND ?        JMP SUB1    ;JA, WARNTON:E4A    LDY PO      ;ZEICHEN LINKS VOM        JSR E4B        JMP E5:E4B    LDA ($F7),Y ;CURSOR LOESCHEN        TAX         ;UND TEXT RECHTS VOM        LDA EP,Y    ;CURSOR VERS	$A0-$FF        BCC H2B        CMP #$A0        BCS H2B:H2A    CLC        RTS:H2B    SEC        RTS;-------:H3     JSR H4      ;ZEICHEN PRUEFEN        JSR B4B     ;UND IN EINGABE-        BCC H3A     ;PUFFER SCHREIBEN        STA EP,X        INX-----:E2     JSR H6      ;HOME        LDA #$00    ;CURSOR AUF ANFANG        STA PO      ;DES EINGABEFELDES        CLC         ;SETZEN        RTS;-------:E3     JSR H6B     ;CURSOR UM EIN        INY         ;ZEICHEN NACH        TYA         ;RECHTN        STA $49     ;ADRESSE MERKEN        STY $4A        LDA $46     ;VORBEREITUNG        AND #$80    ;ZUM AUFRUF DER        PHA         ;BETRIEBSSYSTEM-        LDA #$00    ;ROUTINE 'LET VAR='        PHA        LDY $05     ;UEBERGABEWERT HOLEN02     ;LAENGE DER EINGABE        STX $03     ;ADRESSE IM LOW- UND        STY $04     ;HIGH-BYTE FORMAT        JSR H6B     ;CURSOR-POS HOLEN        TYA        SEC        SBC SP        TAY        INY        STY $06     ;SPALTENWERT MERKEN       B:E7A    DEX         ;BASIC-MODUS        STX $0D        LDA ZS      ;ZIELVARIABLE SUCHEN        LDX ZS+1        STA $64        STX $65        JSR FRESTR  ;STRINGDATEN HOLEN:E7B    CMP #$00    ;LAENGE=0 ?        BNE E7C     ;NEIN, WEITER          JSR H1      ;UND WERT SPEICHERN        JSR H6B     ;CURSOR-POS HOLEN        TYA        SEC        SBC SP        TAY        INY        STY $05     ;SPALTENWERT MERKEN        LDA CV      ;NAME DER CURSOR-        LDX CV+1    ;VARIABLEN HOLEN     DEY        LDA ($F7),Y        TAX        LDA EP,Y        INY        STA EP,Y        TXA        STA ($F7),Y        DEY        BMI E6C        CPY PO        BCS E6B:E6C    INY         ;UND LUECKE MIT        LDA K4      ;MIT LEERCODE        JS2    ;IN ASCII-CODE:H4A    LDX VARB        RTS;-------:H5     STX VARB    ;ZEICHEN        JSR SUB3    ;VERSTECKEN        LDX HM        BEQ H5A        LDA K0:H5A    LDX VARB        RTS;-------:H6     LDY SP      ;CURSOR SETZEN:H6A    LDX ZE      DEC PO        CLC        RTS;-------:E6     JSR H6B     ;INSERT        TYA         ;ZEICHEN AN CURSOR-        SEC         ;POSITION EINFUEGEN        SBC SP        TAY        INY        CPY LA      ;AM RECHTEN RAND ?        BNE E6A     ;NEI
  CPX #$7F        BEQ D1A     ;JA, IGNORIEREN        PHA         ;TASTE MERKEN        INC $CC     ;CURSOR ABSCHALTEN        LDX #$00        STX $CF        INX        STX $CD        LDY $D3     ;ZEICHEN AM BILD-        LDA ($D1),Y ;SCHIRM NORMAL- LDA $45     ;NAMEN MERKEN        LDX $46:CAB    STA LAST+10        STX LAST+11        STA CV        STX CV+1        RTS;-------:D1     CLC         ;ZEICHEN VON        LDA PO      ;TASTATUR HOLEN        ADC SP        TAY        JSR H6A      JSR B8      ;INVERTIEREN        STA ($F7),Y ;AUF BILDSCHIRM        LDA FN,Y    ;UND FARBZUSTAND        STA ($F9),Y ;SETZEN        DEY        BPL D4D        BMI D4F:D4E    LDA EP,Y    ;TEXT EVTL.        JSR H5      ;VERSTECKENUND        JSR B8    PUFFER        JMP C9B:C9A    JSR FNDVAR  ;VARIABLE PRUEFEN        JSR CHKNUM  ;NUMERISCHE VAR. ?        LDA $45     ;NAMEN MERKEN        LDX $46:C9B    STA LAST+8        STX LAST+9        STA EV      ;NAMEN SETZEN        STX EV+1        RTS;-EF KOMPRIMIEREN        LDY LA      ;ANZAHL EINGEGEBENER        DEY         ;ZEICHEN ERMITTELN:D4A    LDA EP,Y        CMP #$20        BNE D4B        DEY        BPL D4A:D4B    INY         ;GENUEGEND ZEICHEN ?        CPY AN        BEQ D4C     ;JA,VIC17   ;MODUS EINSCHALTEN        AND #$BF    ;WENN MM<>0        CPX #$00        BEQ C8C        ORA #$40:C8C    STA VIC17   ;REGISTER SETZEN        STX MM      ;MM SETZEN        DEX         ;FARBCODE        TXA         ;DEFINIEREN        LSR    IBEN        JSR H5      ;TASTE VERSTECKEN        JSR B7      ;UND INVERTIEREN        STA ($F7),Y ;AUF BILDSCHIRM        INY         ;CURSOR NACH RECTS        CPY LA      ;>LAENGE ?        BEQ D3B     ;JA, NICHT AENDERN        STY PO      ;NEUE POS   ;JA, ILLEGAL QUANT.        STX LAST+6  ;MODUS MERKEN        TXA         ;MODI FUER WAEHREND        ROR         ;UND NACH DER        ROR RF      ;EINGABE SETZEN        ROR        ROR RF+1        RTS;-------:C8     JSR H7      ;PARAMETER-TEST        STA $55        LDA EFADR+1,Y        STA $56        LDY #$FF    ;NR. FUER SHFT/RET        JMP ($0055) ;SPRUNG ZUR FUNKTION;-------:D3     LDY #$27    ;GEDRUECKTE TASTE=:D3A    CMP EKEY,Y  ;ABBRUCHTASTE ?        BEQ D4      ;JA, WEITER             BNE D4G     ;GANZES FELD        LDA LA:D4G    LDX EM      ;ODER WENN EM = 1        BNE D4H     ;GANZES FELD        LDA LA:D4H    LDY BM      ;BASIC/MSP-MODUS        BNE D5        LDX ZS      ;ADRESSE ZIEL-        LDY ZS+1    ;VARIABLE HOL        JSR B7      ;ISIEREN        STA ($D1),Y        LDY PO      ;FARBE SETZEN        LDA FW,Y        STA ($F9),Y        PLA         ;TASTE WIEDER        RTS         ;HOLEN UND ENDE;-------:D2     LDY #$1F    ;PRUEFEN, OB:D2A    CMP EFKEY,Y ;   LDY PO      ;CURSOR AUF FARBE        LDA FW,Y    ;AN POSITION DES        STA COLOR   ;EF SETZEN        LSR $CC     ;CURSOR EINSCHALTEN        LSR $CC:D1A    JSR GETIN   ;WARTEN AUF TASTE        BEQ D1A        LDX $91     ;STOP GEDRUECKT ?      	   ;INVERTIEREN UND        STA ($F7),Y ;AUF BILDSCHIRM        LDA FN,Y    ;FARBWERTE SETZEN        STA ($F9),Y        DEY         ;BIS ANFANG        BPL D4E     ;EINGABEFELD:D4F    LDA PO      ;LAENGE DES STRINGS        LDX $05     ;BEI SHIFT/RET------:CA     JSR H7      ;PARAMETER-TEST        BNE CAA     ;PARAMETER VORHANDEN        LDA LAST+10 ;WENN NICHT, DANN        LDX LAST+11 ;AUS PUFFER        JMP CAB:CAA    JSR FNDVAR  ;VARIABLE PRUEFEN        JSR CHKNUM  ;NUMERISCHE VAR. ?        WEITER        BCS D4C        JMP SUB1    ;NEIN, FEHLER:D4C    STY PO      ;ANZAHL MERKEN        LDY LA      ;LEERCODES AM ENDE        DEY         ;DES EF IN SPACE:D4D    LDA EP,Y    ;WANDELN        CMP #$20        BNE D4E        LDA K3             ;UND MERKEN        ROR        ROR        STA CM        RTS:ER4    JMP ILLQUA  ;ILLEGAL QUANTITY;-------:C9     JSR H7      ;PARAMETER-TEST        BNE C9A     ;PARAMETER VORHANDEN        LDA LAST+8  ;WENN NICHT, DANN        LDX LAST+9  ;AUS MERKEN:D3B    CLC         ;WEITER MIT EINGABE        RTS;-------:D4     INY         ;NUMMER DER ABBRUCH-        STY $05     ;TASTE MERKEN        LDX LA      ;GANZES EINGABEFELD        DEX         ;KOMPRIMIEREN        STX PO        JSR B9      ;       BNE C8A     ;PARAMETER VORHANDEN        LDX LAST+7  ;WENN NICHT, DANN        JMP C8B     ;AUS PUFFER:C8A    JSR GETBYT  ;ZAHL HOLEN:C8B    CPX #$05    ;>4 ?        BCS ER4     ;JA, ILLEGAL QUANT.        STX LAST+7  ;MODUS MERKEN        LDA    DEY        BPL D3A     ;NORMALES ZEICHEN        JSR B4B     ;TASTE ERLAUBT ?        BCC D3B     ;NEIN, WEITER        JSR BA      ;EF KOMPRIMIEREN        JSR H4      ;CODE BEARBEITEN        LDY PO      ;IN EINGABEPUFFER        STA EP,Y    ;SCHREEN        STX $47     ;UND SPEICHERN        STY $48        JSR STRPOI  ;RESERVIEREN        LDY #$02    ;ADRESSE IN STRING-:D4I    LDA $0061,Y ;POINTER SCHREIBEN        STA ($47),Y        DEY        BPL D4I        TAY         ;KEINE EINGABE ?   GEDRUECKTE TASTE        BEQ D2B     ;EDITORFUNKTION HAT        DEY        BPL D2A        JMP D3      ;NEIN, WEITER:D2B    TYA         ;FUNKTION AUFRUFEN        ASL         ;DAZU ADRESSE        TAY         ;NACH VEKTOR $55/$56        LDA EFADR,Y 
JSR GETBYT  ;ZAHL HOLEN:C1B    CPX #$02    ;>2 ?        BCS ER2     ;JA, ILLEGAL QUANT.        STX LAST+0  ;PARAMETER MERKEN        STX FM      ;MODUS SETZEN        LDA K2      ;LEERFELDCODE        CPX #$01    ;ERZEUGEN        BNE C1C        LDA SCHIRM        DEY         ;GESAMMTES FELD        BPL BBA     ;AUF BILDSCHIRM ?        RTS         ;JA, ENDE:BBB    LDA EP,Y    ;ZEICHEN HOLEN        JSR H5      ;VERSTECKEN UND        JSR B7      ;INVERTIEREN        STA ($F7),Y ;AUF BILDSCHIRM    #$10    ;>15 ?        BCS ER3     ;JA, ILLEGAL QUANT.        TXA         ;FARBPUFFER MIT        LDY LA      ;FARBCODE FUELLEN        DEY:C5C    STA ($F9),Y        STA FW,Y        DEY        BPL C5C:C5D    STX LAST+4  ;FARBE MERKEN        RTS:  ;EINGABEFELD BIS        JSR B9      ;CURSOR KOMPRIMIEREN:BAA    LDA EP,Y    ;KOMPRIMIERTES        JSR H5      ;EINGABEFELD AUF        JSR B7      ;BILDSCHIRM BRINGEN        STA ($F7),Y        DEY        BPL BAA        PLA         ;AKKU ZURUECKH  CPX #$00    ;=0 ?        BEQ C4C     ;JA, KEINE TASTEN        DEX         ;MAX. ANZAHL AUF        CPX LA      ;FELDLAENGE        BCS ER2     ;BEGRENZEN        INX:C4C    STX LAST+3  ;UND MERKEN        STX AN      ;ANZAHL SETZEN        RTS;----       CMP #$20    ;=LEERFELDCODE ?        BNE B9B        JSR B4B     ;ZEICHEN ERLAUBT ?        BCS B9B     ;JA, WEITER        TYA         ;POINTER EIN ZEICHEN        PHA         ;WEITER SETZEN        INY        JSR E4B     ;ZEICHEN LOESCHEN      EINGABEFELD:C3D    LDA EP,Y    ;ERMITTELN UND        CMP #$20    ;CURSOR DIREKT        BNE C3E     ;DAHINTER SETZEN        DEY        BPL C3D:C3E    INY        CPY LA      ;LETZTES ZEICHEN        BNE C3F     ;= FELDENDE ?        DEY         ;JAARBE SETZEN:B7B    LDX VARA        RTS;-------:B8     STX VARA    ;NACH EINGABE        LDX MM      ;MEHRFARBMODUS EIN?        BNE B8A     ;JA, WEITER        AND #$7F    ;BITS 0-6 ISOLIEREN        ORA RF+1    ;UND INVERTIEREN        JMP B8B:B8A         LDX LAST+2  ;WENN NICHT, DANN        JMP C3B     ;AUS PUFFER:C3A    JSR GETBYT  ;ZAHL HOLEN:C3B    CPX #$00    ;=0 ?        BEQ ER2     ;JA, ILLEGAL QUANT.        CPX #$FF    ;=255 ?        BEQ C3C     ;JA, WEITER        DEX         ;MIT        BEQ C6D     ;JA, WEITER        CPX #$10    ;>15 ?        BCS ER3     ;JA, ILLEGAL QUANTITY        TXA         ;FARBPUFFER MIT        LDY LA      ;FARBCODE FUELLEN        DEY:C6C    STA FN,Y        DEY        BPL C6C:C6D    STX LAST+5  ;FAK1:C1C    STA K4      ;UND MERKEN        RTS:ER2    JMP ILLQUA  ;ILLEGAL QUANTITY;-------:C2     JSR H7      ;PARAMETER-TEST        BNE C2A     ;PARAMETER VORHANDEN        LDX LAST+1  ;WENN NICHT, DANN        JMP C2B     ;AUS PUFFER:C2A    JSR G      DEY         ;SCHON ALLE        BPL BBB     ;ZEICHEN ?        RTS         ;JA, ENDE;-------:C1     JSR H7      ;PARAMETER-TEST        BNE C1A     ;PARAMETER VORHANDEN        LDX LAST+0  ;WENN NICHT, DANN        JMP C1B     ;AUS PUFFER:C1A    	ER3    JMP ILLQUA  ;ILLEGAL QUANTITY;-------:C6     JSR H7      ;PARAMETER-TEST        BNE C6A     ;PARAMETER VORHANDEN        LDX LAST+5  ;WENN NICHT, DANN        JMP C6B     ;AUS PUFFER:C6A    JSR GETBYT  ;ZAHL HOLEN:C6B    CPX #$FF    ;=255 ? OLEN        RTS         ;RUECKSPRUNG;-------:BB     LDY LA      ;EINGABEFELD        DEY         ;DURCH LINIE:BBA    LDA EP,Y    ;MARKIEREN        CMP #$20        BNE BBB        LDA K4        JSR B7      ;INVERTIEREN        STA ($F7),Y ;AUF BILD---:C5     JSR H7      ;PARAMETER-TEST        BNE C5A     ;PARAMETER VORHANDEN        LDX LAST+4  ;WENN NICHT, DANN        JMP C5B     ;AUS PUFFER:C5A    JSR GETBYT  ;ZAHL HOLEN:C5B    CPX #$FF    ;=255 ?        BEQ C5D     ;JA, WEITER        CPX   PLA         ;TEXT VON RECHTS        TAY         ;NACHSCHIEBEN        DEC PO      ;ANZAHL ZEICHEN -1        JMP B9A     ;NAECHSTES ZEICHEN:B9B    INY         ;WEITER MIT        JMP B9A     ;NAECHSTEM ZEICHEN:B9C    RTS;-------:BA     PHA       , DANN AUF:C3F    STY PO      ;LETZTES ZEICHEN        RTS;-------:C4     JSR H7      ;PARAMETER-TEST        BNE C4A     ;PARAMETER VORHANDEN        LDX LAST+3  ;WENN NICHT, DANN        JMP C4B     ;AUS PUFFER:C4A    JSR GETBYT  ;ZAHL HOLEN:C4B     AND #$3F    ;NACH MULTICOLOR        ORA CM      ;FARBE SETZEN:B8B    LDX VARA        RTS;-------:B9     LDY #$00    ;EF. KOMPRIMIEREN:B9A    CPY PO      ;WEITER KOMPRIMIEREN        BEQ B9C     ;NEIN, ABBRUCH        LDA EP,Y    ;ZEICHEN HOLEN LAENGE        CPX LA      ;VERGLEICHEN.        BCS ER2     ;ZU GROSS, FEHLER        STX PO      ;POSITION MERKEN        INX        STX LAST+2  ;UND IN PUFFER        RTS:C3C    STX LAST+2        LDY LA      ;LETZTES ZEICHEN        DEY         ;IMRBE MERKEN        RTS;-------:C7     JSR H7      ;PARAMETER-TEST        BNE C7A     ;PARAMETER VORHANDEN        LDX LAST+6  ;WENN NICHT, DANN        JMP C7B     ;AUS PUFFER:C7A    JSR GETBYT  ;ZAHL HOLEN:C7B    CPX #$04    ;>3 ?        BCS ER3  ETBYT  ;ZAHL HOLEN:C2B    CPX #$02    ;>2 ?        BCS ER2     ;JA, ILLEGAL QUANT.        STX LAST+1  ;PARAMETER MERKEN        STX HM      ;MODUS SETZEN        RTS;-------:C3     JSR H7      ;PARAMETER-TEST        BNE C3A     ;PARAMETER VORHANDEN
BERECHNEN        LDA #$28    ;ZEILE MIT 40        LDY #$00    ;MULTIPLIZIEREN        STA $28        STY $29        JSR UMULT        STX $F7     ;IN VEKTOR $F7/$F8        STY $F8     ;SPEICHERN        LDA $0288   ;STARTADRESSE        STA VARA       CPY #$02        BCS ER1     ;JA, ILLEGAL QUANT.:A7A    STY VO      ;VORGABE SETZEN        RTS:A7B    JSR FRESTR  ;STRINGDATEN HOLEN        STA VO+1    ;LAENGE        STX VO+2    ;ADRESSE LOW- UND        STY VO+3    ;HIGH MERKEN        TAY     #$20:B4B    STX VARA        LDX TS      ;ZEICHEN ERLAUBT ?:B4C    CMP TKEY,X        BEQ B4D     ;JA        DEX        CPX #$FF        BNE B4C        LDX VARA    ;ZEICHEN IST NICHT        CLC         ;ERLAUBT        RTS:B4D    LDX VARA    ;ZEICRA        INY        CPX #$27    ;PUFFER VOLL ?        BEQ A6G     ;JA, ENDE        CPY $61     ;WEITER MIT        BNE A6D     ;NAECHSTEM ZEICHEN:A6G    CPX #$00    ;KEINE GUELTIGE        BEQ A6A     ;TASTE? DANN VORGABE        RTS;-------:A7  BEQ B1J     ;JA, WEITER        LDA #$20    ;REST MIT SPACE        STA EP,Y    ;FUELLEN        INY        JMP B1I:B1J    JMP BB      ;EF AUF BILDSCHIRM;-------:B2     LDA ($F7),Y ;ZEICHEN VOM BILD-        JMP SUB2    ;SCHIRM, NACH ASCII;-------:VORGABE FUER:A6B    LDA ENDKEY,Y        STA EKEY,Y  ;ABBRUCH-TASTEN IN        DEY         ;PUFFER SCHREIBEN        BPL A6B        RTS:A6C    STA $61     ;ANZAHL MERKEN        LDY #$00        LDX #$00:A6D    LDA ($22),Y ;ZEICHEN HOLEN        STYY $62        STY $63:B1F    CPY $61     ;LAENGE ERREICHT ?        BEQ B1I     ;JA:B1G    JSR B4      ;ZEICHEN HOLEN        BCC B1H     ;ERLAUBT ? NEIN        LDY $63     ;JA, DANN IN        STA EP,Y    ;EINGABEFELD        INC $63     ;SCHREIBEN    INX         ;ZEICHEN IN PUFFER:A4M    INY         ;NAECHSTES ZEICHEN        RTS;-------:A5     JSR H8      ;KOMMA ?        JSR FNDVAR  ;VARIABLENSYNTAX        JSR CHKSTR  ;STRINGVARIABLE ?        LDA $47     ;ADRESSE LOW        LDX $48     ;UN      ;LEERES EINGABEFELD:B1B    BMI B1C     ;=255 ? JA, STRING        LDA LA      ;VORGABE VOM        LDX #<B2    ;BILDSCHIRM, ADRESSE        LDY #>B2    ;ROUTINE 'GETCHAR'        JMP B1E     ;ZUR HAUPTROUTINE:B1C    LDA VO+1    ;STRING ALS VORGAB       RTS;-------:B6     LDY LA      ;EINGABEFELD        DEY         ;AUF DEM BILDSCHIRM:B6A    LDA ($F7),Y ;INVERTIERN ODER        JSR B7      ;IN MEHRFARBMODUS        STA ($F7),Y ;WANDELN        DEY        BPL B6A        RTS;-------:B7     ;BILDSCHIRMSPEICHER        SEC         ;ERMITTELN        LDA #$D8        SBC $0288        STA VARB        CLC         ;SPALTENPOSITION        LDA $F7     ;DAZUADDIEREN        ADC SP        STA $F7        STA $F9        LDA $F8     ;STARTADRESSE     ;LAENGE=0 ?        BEQ A7A     ;JA, KEINE VORGABE        RTS:ER1    JMP ILLQUA  ;ILLEGAL QUANTITY;-------:B1     JSR H6      ;CURSOR SETZEN        LDA #$00    ;CURSORPOSITION        STX $71     ;AUF BILDSCHIRM UND        STA $72     ;FARBRAM 	HEN ERLAUBT        SEC        RTS;-------:B5     LDY LA      ;FARBEN AN POSITION        DEY         ;DES EINGABEFELDES:B5A    LDA ($F9),Y ;MERKEN        STA FW,Y    ;GUELTIG, WENN FW        STA FN,Y    ;ODER FN = 255        DEY        BPL B5A    JSR H8      ;KOMMA ?        JSR FRMEVL  ;PARAMETER HOLEN        LDA $0D     ;TYP ALS VORGABE        STA VO        BNE A7B     ;STRING, WEITER        JSR FACINT  ;ZAHL IN AKKU        CMP #$00    ;>2 ?        BNE ER1     ;JA, ILLEGAL QUANT.     B3     LDA ($22),Y ;ZEICHEN AUS STRING        RTS;-------:B4     JSR $FFFF   ;ZEICHEN HOLEN                    ;SPRUNG NACH B2/B3:B4A    JSR H4      ;CODE BEARBEITEN        CMP #$A0    ;SHIFT-SPACE IN        BNE B4B     ;SPACE WANDELN        LDA  VARA        LDY #$1F    ;PRUEFEN, OB TASTE:A6E    CMP EFKEY,Y ;EDITORFUNKTION HAT        BEQ A6F     ;WENN JA, DANN        DEY         ;UBERSPRINGEN        BPL A6E        STA EKEY,X  ;TASTE ERLAUBT        INX         ;UND SPEICHERN:A6F    LDY VA       LDY $63        CPY LA      ;FELD VOLL ?        BEQ B1J     ;JA, ENDE:B1H    INC $62     ;ZEICHENZAEHLER        LDY $62     ;ERHOEHEN        CPY $61     ;ALLE ZEICHEN ?        BNE B1G     ;NEIN:B1I    CPY LA      ;EINGABEFELD VOLL ?        D HIGH        STA ZS+0    ;MERKEN        STX ZS+1        RTS;-------:A6     JSR H8      ;KOMMA ?        JSR FRMEVL  ;STRING HOLEN        JSR FRESTR  ;STRINGDATEN HOLEN        CMP #$00    ;LAENGE=0 ?        BNE A6C     ;NEIN:A6A    LDY #$27    ;E        LDX VO+2        LDY VO+3:B1D    STX $22        STY $23        LDX #<B3        LDY #>B3:B1E    STA $61     ;LAENGE DER VORGABE        STX B4+1    ;ADRESSE ROUTINE        STY B4+2    ;'GETCHAR'        LDY #$00    ;MODIFIZIEREN        STSTX VARA    ;WAEHREND EINGABE        LDX MM      ;MEHRFARBMODUS EIN?        BNE B7A     ;JA, WEITER        AND #$7F    ;BITS 0-6 ISOLIEREN        ORA RF      ;UND INVERTIEREN        JMP B7B:B7A    AND #$3F    ;NACH MULTICOLOR        ORA CM      ;F        ADC VARA    ;BILDSCHIRM        STA $F8     ;DAZUADDIEREN        CLC         ;STARTADRESSE IM        ADC VARB    ;FARBRAM BERECHNEN        STA $FA     ;(VEKTOR $F9/$FA)        LDA VO      ;VORGABE >0 ?        BNE B1B     ;JA        JMP BB
 DEY        BPL ID        INY        STY RF      ;REVERSFLAG LOESCHEN        STY RF+1        STY MM      ;MEHRFARBMODUS AUS        STY BM      ;BASIC-MODUS        STY $02        RTS;-------:A1     JSR CHRGOT  ;ZEICHEN HOLEN        CMP #$3B    DUS ?        LDY #$BF    ;PUFFER FUER BEI        LDA #$00    ;BEI DER EINGABE:IA     STA TKEY,Y  ;ERLAUBTE TASTEN        DEY         ;LOESCHEN        CPY #$FF        BNE IA        LDY #$27    ;PUFFER FUER:IB     STA EKEY,Y  ;ABBRUCH-TASTEN      A4K     ;NAECHSTEM ZEICHEN:A4F    CMP #$07    ;=CTRL+G ?        BNE A4H     ;NEIN        STY VARB        LDY #$C1    ;ALLE TASTENCODES:A4G    TYA         ;VON $C1-$DB ERLAUBT        JSR A4L     ;ZEICHEN IN PUFFER        CPY #$DB    ;SCHREIBEN         ;ANZAHL TASTEN        JSR B5      ;FARBEN RETTEN        JSR C5      ;FARBE WAEHREND UND        JSR C6      ;NACH EINGABE HOLEN        JSR C7      ;REVERS-MODUS        JSR C8      ;MEHRFARB-MODUS        JSR B6      ;EINGABEFELD SETZEN        JS      ;TASTEN MOEGLICH        RTS:A4C    STA $64     ;ANZAHL MERKEN        LDY #$00        LDX #$00:A4D    LDA ($22),Y ;ZEICHEN HOLEN        CMP #$01    ;=CTRL+A ?        BEQ A4A     ;JA, ALLE TASTEN        CMP #$0B    ;=CTRL+K ?        BNE A4FINIT    ;INPUT VORBEREITEN;-------;ERMITTELN DER PARAMETER ZE BIS VO;-------        JSR A1      ;ZEILE        JSR A2      ;SPALTE        JSR A3      ;LAENGE        JSR A4      ;ERLAUBTE TASTEN        JSR A5      ;ZIELVARIABLE        JSR A6       QUANT.        STX LA      ;LAENGE SETZEN        RTS;-------:A4     JSR H8      ;KOMMA HOLEN        JSR FRMEVL  ;STRING EINLESEN        JSR FRESTR  ;STRINGDATEN HOLEN        CMP #$00    ;LAENGE=0 ?        BNE A4C     ;NEIN:A4A    LDX #$00    ;AL ;JA, F8 +        STA EFKEY+7 ;SHIFT/RETURN        RTS         ;AUSSCHALTEN:P6A    CMP #$02    ;MINDESTENS 2        BCS P6B     ;ZEICHEN ?        LDX #$0D    ;NEIN, FEHLER        JMP ERROR:P6B    STX $22     ;F8 UND SHIFT/RETURN        STY $23   --:A2     JSR H8      ;KOMMA &        JSR GETBYT  ;ZAHL HOLEN        CPX #$FF    ;=255 ?        BEQ A2A     ;JA, SP UEBERNEHMEN        CPX #$28    ;>39 ?        BCS ER0     ;JA, ILLEGAL QUANT.        STX SP      ;SPALTE SETZEN:A2A    RTS;-------       JSR A4L     ;ZEICHEN IN PUFFER        CPY #$3A    ;SCHREIBEN        BNE A4I        LDY VARB        INY         ;WEITER MIT        JMP A4K     ;NAECHSTEM ZEICHEN:A4J    JSR A4L     ;ZEICHEN IN PUFFER:A4K    CPY $64     ;SCHON ALLE ZEICHEN? ;= SEMIKOLON ?        BNE A1A     ;NEIN        JSR CHRGET  ;ZEICHEN HOLEN        LDA #$00    ;RETURN-FLAG        STA CR      ;LOESCHEN        BEQ A1B     ;WEITER:A1A    JSR H8      ;KOMMA ?        LDA #$0D    ;RETURN-FLAG SETZEN        STA CR:A1   DEY         ;LOESCHEN        BPL IB        JSR H6B     ;CURSORZEILE UND        STX ZE      ;SPALTE ALS VORGABE        STY SP      ;MERKEN:IC     LDY #$27    ;EINGABEPUFFER        LDA #$20    ;MIT SPACE-ZEICHEN:ID     STA EP,Y    ;FUELLEN       	    BNE A4G        LDY VARB        INY         ;WEITER MIT        JMP A4K     ;NAECHSTEM ZEICHEN:A4H    CMP #$1A    ;=CTRL+Z ?        BNE A4J     ;NEIN        STY VARB        LDY #$30    ;ALLE ZAHLENCODES:A4I    TYA         ;VON $30-$39 ERLAUBT SR C9      ;ABBRUCH-VARIABLE        JSR CA      ;CURSOR-VARIABLE;-------:P3B    JSR D1      ;TASTE HOLEN        JSR D2      ;AUSWERTEN        BCC P3B     ;SCHLEIFE;-------        RTS         ;ENDE DER ROUTINE;-------:INIT   JSR CHKDIR  ;DIREKTMO     ;NEIN        STY VARB        LDY #$41    ;ALLE TASTENCODES:A4E    TYA         ;VON $41-$5A ERLAUBT        JSR A4L     ;ZEICHEN IN PUFFER        CPY #$5B    ;SCHREIBEN        BNE A4E        LDY VARB        INY         ;WEITER MIT        JMP ;ABBRUCH-TASTEN        JSR A7      ;VORGABE;-------;ERMITTELN DER OPTIONALEN PARAMETER;-------:P3A    JSR C1      ;FELD-MODUS        JSR C2      ;HIDE-MODUS        JSR B1      ;VORGABE AUSFUEHREN        JSR C3      ;CURSORPOSITION        JSR C4 LE TASTEN ERLAUBT        LDY #$20:A4B    TYA        STA TKEY,X  ;CODES VON $20-$7F        ORA #$80    ;CODES VON $A0-$FF        STA TKEY+$60,X        INY        INX        CPX #$60        BNE A4B        LDX #$BF    ;INSGESAMMT 192        STX T  ;NEU DEFINIEREN,        LDY #$01    ;SPACE = CODE:P6C    LDA ($22),Y ;UEBERSPRINGEN        CMP #$20        BEQ P6D        STA EFKEY+6,Y:P6D    DEY        BPL P6C        RTS         ;RUECKSPRUNG;-------;NEUE INPUT-ROUTINE;-------:P3     JSR :A3     JSR H8      ;KOMMA &        JSR GETBYT  ;ZAHL HOLEN        TXA         ;=0 ?        BEQ ER0     ;JA, ILLEGAL QUANT.        CLC         ;SPALTENWERT DAZU-        ADC SP      ;ADDIEREN        CMP #$29    ;>40        BCS ER0     ;JA, ILLEGAL       BNE A4D     ;NEIN        DEX         ;ANZAHL-1 MERKEN        STX TS        RTS:A4L    JSR H2      ;ZEICHEN ERLAUBT ?        BCC A4M     ;NEIN        JSR B4B     ;ZEICHEN VORHANDEN ?        BCS A4M     ;JA        STA TKEY,X  ;ALLES OK     B    JSR GETBYT  ;ZAHL HOLEN        CPX #$FF    ;=255 ?        BEQ A1C     ;JA, ZE UEBERNEHMEN        CPX #$19    ;>24 ?        BCS ER0     ;JA, ILLEGAL QUANT.        STX ZE      ;ZEILE SETZEN:A1C    RTS:ER0    JMP ILLQUA  ;ILLEGAL QUANTITY;-----
;--------------------------;INPUT DE LUXE VERSION 4.3-;WRITTEN 1989/90 BY :     -;MARKUS KANET             -;--------------------------;ENDE SOURCE MAX. $B5FF, DA;INPUT-ASS MAX. $9000 BYTES;EINLIEST!!!;CTRL+K/X MUSS BEI *=1500 ENDEN!ORG $0801        STX $03     ;UND MERKEN        LDA #<P4H   ;"SYS 2093" AUSGEBEN        LDY #>P4H        JSR $AB1E        LDY #$00    ;ALLE PARAMETER AUS-        LDX #$01    ;GEBEN UND PRUEFEN        STX $04     ;OB DIESER MIT DEM:P4A    CPX $03     ;FEHLER FRMEVL  ;STRING HOLEN        JSR FRESTR  ;STRINGDATEN HOLEN        CMP #$04    ;LAENGE = 4 ?        BNE P2B     ;NEIN, TYPE MISMATCH        LDY #$03:P2A    LDA ($22),Y ;ZEICHEN HOLEN        JSR SUB3    ;NACH BILDSCHIRMCODE        STA K0,Y    ;UN    LDX $04     ;SCHON ALLE PARA-        CPX #$08    ;METER AUSGEGEBEN ?        BNE P4E     ;NEIN, WEITER:P4D    LDA P4I,Y        JSR $FFD2        INY        CPY #$1E        BNE P4D        JMP P4A:P4E    CPX #$12    ;ALLE PARAMETER ?        BNETE SETZEN        JSR STUPT   ;CURSOR NEU SETZEN        JSR PARTST  ;TEST AUF NUR        JSR CHKCOM  ;CUROSOR SETZEN        JMP PRINT   ;WEITER MIT PRINT:P0A    JMP ILLQUA  ;ILLEGAL QUANTITY;-------;ASSEMBLER-EINSPRUNG FUER NEUEN;INPUT-BEFEHL;---------;PARAMETER-EDITOR;-------:P5     JSR PARTST  ;FOLGT PARAMETER ?        JSR COMBYT  ;JA, EINLESEN        CPX #$08    ;NUR FM-MM ?        BCC P5A     ;JA, ERLAUBT        JMP ILLQUA  ;ILLEGAL QUANTITY:P5A    STX $F7     ;PARAMETER MERKEN          JMP P3      ;PRINTAT, IDL,        JMP P1      ;MSIDL UND        JMP P2      ;CHARDEF        JMP P4      ;SYNTAX-OUTPUT        JMP P5      ;PARAMETER-EDITOR        JMP P6      ;EFKEY-EDITOR;-------;PRINT-AT ROUTINE;-------:P0     JSR COMBYT  FUER PARA-        LDA #<H7B   ;METER MODIFIZIEREN        LDX #>H7B        JMP P5D:P5B    LDX P5E,Y   ;STARTADRESSE DER        LDA P3A+1,X ;ROUTINE FUER PARA-        STA $22     ;METER ERMITTELN        LDA P3A+2,X ;UND IN $22/$23        STA $23  B $15,$08,$C6,$07   ;SYS-ZEILE ZUMB $9E,$32,$30,$37   ;STARTEN DES MS-B $32,$3A,$85,$20   ;PROGRAMMS, WELCHESB $44,$45,$20,$4C   ;DEN BASIC-ANFANGB $55,$58,$45,$00   ;HOCHSETZTB $00,$00,$00;-------        LDX #$15    ;BASIC-ANFANG AUF        LDY  ($22),Y        JMP P5      ;PRUEFEN, OB BEHAND-                    ;LUNG WEITERER PARA-                    ;METER ERWUENSCHT:P5E    B $00,$03,$09,$0C        B $12,$15,$18,$1B:P5F    B $00,$01,$02,$03        B $04,$05,$06,$07;-------;EDITOR-TAST:CHRGET = $0073:CHRGOT = $0079:COLOR  = $0286:ERROR  = $A437:NEWCLR = $A659:GETBYT = $B79E:INTPRT = $A7AE:LET    = $A9BA:PRINT  = $AAA0:CHKNUM = $AD8D:CHKSTR = $AD8F:TYPMIS = $AD99:FRMEVL = $AD9E:CHKCOM = $AEFD:FNDVAR = $B08B:PUTVAR = $BRCODE UEBER-        BNE P4B     ;EINSTIMMT.        INC $C7     ;WENN JA, DANN        JSR P4F     ;REVERS DARSTELLEN.        DEC $C7        JSR P4G     ;KOMMA AUSGEBEN        JMP P4C     ;SCHLEIFE:P4B    JSR P4F        JSR P4G:P4C    INC $04    D SPEICHERN        DEY        BPL P2A     ;ALLE 4 ZICHEN ?        RTS         ;JA, ENDE:P2B    JMP TYPMIS  ;TYPE MISMATCH;-------;SYS2102,0 = IDL-SYNTAX AUSGEBEN;SYS2102,X = PARAMETERFEHLER ANZEIGEN;-------:P4     JSR COMBYT  ;FEHLERCODE HOLEN P4A     ;NEIN, DANN WEITER.:P4F    JSR P4G     ;ZWEI ZEICHEN AUS-:P4G    LDA P4I,Y   ;GEBEN.        INY        JMP $FFD2:P4H    B $0D,"SYS 2093,",0:P4I    B "ZE,SP,LA,T$,Z$,E$,VO",$0D        B "       [,FM,HM,PO,AN,FW,FN,RM,CM,EV,CV]",$0D,$00;-----:P1     JSR IC      ;INPUT VORBEREITEN        INC BM      ;AUS ASSEMBLER-MODUS        TYA         ;SCHALTEN        STA ($7A),Y        JMP P3A     ;EINSPRUNG IN INPUT;-------;ZEICHENCODES AENDERN;-------:P2     JSR CHKCOM  ;KOMMA ?        JS   JSR COMBYT  ;EIN/AUS-FLAG        CPX #$00    ;0 = AUSSCHALTEN        BNE P5C        JSR COMBYT  ;VORGABEWERT        TXA         ;EINLESEN UND IN        LDY $F7     ;PUFFER SPEICHERN        LDX P5F,Y        STA LAST,X        JSR P5B     ;AUFRUF ;KOMMA ? ZAHL HOLEN        CPX #$19    ;>24 ?        BCS P0A     ;JA, ILLEGAL QUANT.        STX $D6     ;ZEILE SETZEN        JSR COMBYT  ;KOMMA ? ZAHL HOLEN        CPX #$28    ;>39 ?        BCS P0A     ;JA, ILLEGAL QUANT.        STX $D3     ;SPAL	   ;SPEICHERN        RTS:P5C    LDY $F7     ;PARAMETER EIN-        JSR P5B     ;SCHALTEN        LDA #<H7        LDX #>H7:P5D    LDY #$01    ;ROUTINE ZUM        STA ($22),Y ;DE-/AKTIVIEREN VON        INY         ;PARAMETERN        TXA        STA#$01    ;$1301 SETZEN        STX $2C        STY $2B        DEY         ;NULL-BYTE VOR        STY $1500   ;BASIC-ANFANG        JSR NEWCLR  ;VORHANDENES BASIC-        JMP INTPRT  ;PROGRAMM STARTEN.;-------        JMP P0      ;SPRUNGTABELLE FUER   EN DEFINITION;-------:P6     JSR COMBYT  ;WERT FUER EM        STX EM      ;EINLESEN        JSR CHKCOM  ;STRINGAUSDRUCK        JSR FRMEVL  ;HOLEN UND        JSR FRESTR  ;AUSWERTEN        CMP #$00    ;LAENGE = 0 ?        BNE P6A        STA EFKEY+60E7:FACINT = $B1AA:ILLQUA = $B248:UMULT  = $B357:INTFAC = $B391:CHKDIR = $B3A6:STRPOI = $B479:FRESTR = $B6A3:VIC17  = $D011:COMBYT = $E200:PARTST = $E206:PLOT   = $E50C:GETPOS = $E513:STUPT  = $E56C:BSOUT  = $FFD2:GETIN  = $FFE4;-------A                         INPUTDELUXE V4.3012A                                                                                       INPUTDL43.S                                                                                                                                                                                                                                          KKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKK